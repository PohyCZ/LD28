// Generated by CoffeeScript 1.6.3
(function() {
  window.Item = (function() {
    function Item(x, y, game, gameScene) {
      var item, items;
      this.x = x;
      this.y = y;
      this.game = game;
      this.gameScene = gameScene;
      items = {
        0: {
          name: "phone",
          price: 10000,
          type: "tech"
        },
        1: {
          name: "fridge",
          price: 5000,
          type: "home"
        }
      };
      item = items[this.game.util.random(1)];
      this.sprite = new Image();
      this.sprite.src = "assets/img/items/" + item.name + ".png";
      this.name = item.name;
      this.price = item.price;
      this.type = item.type;
      this.speed = 2.5;
      this.phase = this.gameScene.phase;
      if (this.game.debug) {
        console.log("spawned item " + this.name + " at: x: " + this.x + ", y: " + this.y);
      }
    }

    Item.prototype.update = function() {
      switch (this.phase) {
        case 0:
          if (false) {
            this.x = this.game.mouse.x;
          } else {
            this.x -= this.speed;
          }
          if (this.x + this.sprite.width <= 0) {
            console.log("despawned item " + this.name);
            return this.gameScene.items.splice(this.gameScene.items.indexOf(this), 1);
          }
      }
    };

    Item.prototype.render = function() {
      this.game.util.drawSprite(this.sprite, this.x, this.y);
      this.game.util.drawText(this.name.capitalize(), this.x + this.sprite.width / 2, this.y - 4, "#fff", true);
      return this.game.util.drawText(this.price, this.x + this.sprite.width / 2, this.y + this.sprite.height + 12, "#fff", true);
    };

    return Item;

  })();

}).call(this);
